const extendedPropsForModal={signInUtilModal:null,config:TOP_BODY,show:function(e){e=void 0!==e?e:{},"undefined"!=typeof event&&event.preventDefault();var t,i=document.getElementById("signinModal"),n=-1<window.location.href.indexOf("awards/fan-voting")?document.querySelectorAll(".card"):document.getElementById("headerLoginLink");if(navigator.userAgent&&navigator.userAgent.match(/PLAYSTATION/))return document.location.assign("http://"+location.hostname+"/login"),!1;"block"!==i.style.display&&null!=n&&(t=!!(n=document.getElementById("rightMenu"))&&n.querySelector(".closeHamMenu"),n&&MG_Utils.hasClass(n,"active")&&t&&t.click(),this._openModal(e,i),"function"==typeof appendedTasteProfile)&&appendedTasteProfile("js-tasteProfileLoginModal")},_openModal:function(n,e){e&&(this.signInUtilModal=new MG_Modal({content:e,className:"loginModal"}),this.signInUtilModal)&&(this.signInUtilModal.openModal((e,t)=>{var i;this.container=t,n.subscribe&&(t=this.container.querySelector(".js-loginForm"),(i=document.createElement("input")).type="hidden",i.name="subscribe",i.value=1,t.appendChild(i)),this.init(),this.showCaptcha&&(this._initializeCaptcha(),this.toggleButtonDisable(!0))}),e=document.querySelectorAll(".js_closeModal"),MG_Utils.addEventHandler(e,"click",()=>{this.signInUtilModal.closeModal(),this.recaptchaCompleted=!1,this.container=null}))},_initializeCaptcha:function(){try{var e=this.container.querySelector(".g-recaptcha");null!=typeof CaptachaComponents&&e&&CaptachaComponents.registerComponent(e,this.captchaAcknowledgement)}catch(e){}},redirectFromResponse:function(e){var t=this.container.querySelector("#signinLoggingin"),i=this.container.querySelector(".js-signinUsername"),n=this.container.querySelector(".js-signinPassword"),o=document.getElementsByClassName("ph-icon-error"),s=this.container.querySelector(".signinError");e.redirect?(t.style.display="block",s.style.display="none",MG_Utils.removeClass(i,"signin_error"),MG_Utils.removeClass(n,"signin_error"),MG_Utils.addClassMultiple(o,"displayNone"),void 0!==e.subscribe&&1==e.subscribe?document.querySelector(".subscribeButton button.login").setAttribute("data-login","0"):document.location.assign(e.redirect)):(s.style.display="block",s.innerHTML=e.message,MG_Utils.addClass(i,"signin_error"),MG_Utils.addClass(n,"signin_error"),MG_Utils.removeClassMultiple(o,"displayNone"),this.toggleButtonDisable(!1))},callbackSuccess:function(i){if("0"==i.premium_redirect_cookie){if(i.showExpiredFreeTrial||i.showExpiredModal||i.showExpiredCovidModal)return this.premiumModalFromResponse(i);this.redirectFromResponse(i)}else{var e=new Date,e=premiumRedirectCookieURL+(0<premiumRedirectCookieURL.indexOf("?")?"&":"?")+"timestamp="+e.getTime();const t=new XMLHttpRequest;t.withCredentials=!0,t.open("GET",e,!0),t.onreadystatechange=function(){var e,t;4===this.readyState&&200<=this.status&&this.status<400&&(e=this.container.querySelector("#signinLoggingin"),t=this.container.querySelector(".signinError"),i.redirect?(e.style.display="",t.style.display="none",document.location.assign(i.redirect)):(t.style.display="",t.innerHTML=i.message,this.toggleButtonDisable(!1)))},t.send(),t=null}},loginAjaxSuccess:function(e){var t;e.twoStepVerification?(t=this.container.querySelector(".js-loginForm"))&&(MG_Utils.addClass(t,"displayNone"),this.setupTwoStepVerification(e)):e.requireCaptcha?(this.showCaptcha=!0,jQuery(".js-loginForm .signinError").show().html(e.message),this.setupCaptacha()):this.callbackSuccess(e)}},signinbox=Object.assign({},Signinbox,extendedPropsForModal);MG_Utils.domReady(function(){document.location.search.match(/showSigninBox=true/i)&&null!=document.getElementById("headerLoginLink")&&signinbox.show(),expired_modal.init()});